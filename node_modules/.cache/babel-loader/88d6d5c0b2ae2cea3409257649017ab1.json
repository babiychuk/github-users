{"ast":null,"code":"var _jsxFileName = \"/Users/evgeniy/React/github-users-list/src/components/UsersList/index.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUsers } from '../../redux/users/actions';\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TablePagination from '@material-ui/core/TablePagination';\nimport UserItem from './UserItem';\nimport TableLoader from '../../common/TableLoader';\nconst headRows = [{\n  id: 'login',\n  numeric: false,\n  label: 'Login'\n}, {\n  id: 'profile link',\n  numeric: false,\n  label: 'Profile link'\n}];\n\nconst UsersList = () => {\n  const dispatch = useDispatch();\n  const {\n    data,\n    loading\n  } = useSelector(state => state.users.list);\n  const [page, setPage] = useState(Number.parseInt(localStorage.getItem(`users_page`)));\n  const [rowsPerPage, setRowsPerPage] = useState(Number.parseInt(localStorage.getItem(`users_per_page`)));\n  useEffect(() => {\n    const localPage = localStorage.getItem(`users_page`);\n    const localPerPage = localStorage.getItem(`users_per_page`);\n\n    if (!localPage) {\n      setPage(0);\n    }\n\n    if (!localPerPage) {\n      setRowsPerPage(5);\n    }\n  }, []);\n  useEffect(() => {\n    const per_page = 100;\n    dispatch(getUsers(per_page));\n  }, [dispatch]);\n\n  const handleChangePage = (event, pageNum) => {\n    setPage(pageNum);\n    localStorage.setItem(`users_page`, pageNum);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    handleChangePage(event, 0);\n    localStorage.setItem(`users_per_page`, event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: \"m020\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: \"tableHead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, headRows.map(row => /*#__PURE__*/React.createElement(TableCell, {\n    key: row.id,\n    align: row.numeric ? 'right' : 'left',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, row.label)))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(TableLoader, {\n    colSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 22\n    }\n  }) : data === null || data === void 0 ? void 0 : data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(user => /*#__PURE__*/React.createElement(UserItem, {\n    key: user.id,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 20],\n    component: \"div\",\n    count: loading ? rowsPerPage : data === null || data === void 0 ? void 0 : data.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    backIconButtonProps: {\n      'aria-label': 'previous page'\n    },\n    nextIconButtonProps: {\n      'aria-label': 'next page'\n    },\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport default UsersList;","map":{"version":3,"sources":["/Users/evgeniy/React/github-users-list/src/components/UsersList/index.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","getUsers","Paper","Table","TableHead","TableBody","TableRow","TableCell","TablePagination","UserItem","TableLoader","headRows","id","numeric","label","UsersList","dispatch","data","loading","state","users","list","page","setPage","Number","parseInt","localStorage","getItem","rowsPerPage","setRowsPerPage","localPage","localPerPage","per_page","handleChangePage","event","pageNum","setItem","handleChangeRowsPerPage","target","value","map","row","slice","user","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUsers } from '../../redux/users/actions';\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TablePagination from '@material-ui/core/TablePagination';\nimport UserItem from './UserItem';\nimport TableLoader from '../../common/TableLoader';\n\nconst headRows = [\n  { id: 'login', numeric: false, label: 'Login' },\n  { id: 'profile link', numeric: false, label: 'Profile link' },\n];\n\nconst UsersList = () => {\n  const dispatch = useDispatch();\n  const { data, loading } = useSelector(state => state.users.list);\n  const [page, setPage] = useState(Number.parseInt(localStorage.getItem(`users_page`)));\n  const [rowsPerPage, setRowsPerPage] = useState(Number.parseInt(localStorage.getItem(`users_per_page`)));\n\n  useEffect(() => {\n    const localPage = localStorage.getItem(`users_page`);\n    const localPerPage = localStorage.getItem(`users_per_page`);\n    if(!localPage){\n      setPage(0);\n    }\n\n    if(!localPerPage){\n      setRowsPerPage(5);\n    }\n  }, [])\n\n  useEffect(() => {\n    const per_page = 100;\n    dispatch(getUsers(per_page));\n  }, [dispatch])\n\n  const handleChangePage = (event, pageNum) => { \n    setPage(pageNum);\n    localStorage.setItem(`users_page`, pageNum);   \n  }\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value); \n    handleChangePage(event, 0);\n    localStorage.setItem(`users_per_page`, event.target.value);\n  }\n  \n  return <div>\n    <Paper className='m020'>\n      <Table>\n        <TableHead >\n          <TableRow className='tableHead'>\n            {headRows.map(row => (\n              <TableCell\n                key={row.id}\n                align={row.numeric ? 'right' : 'left'}\n              >\n                {row.label}\n              </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {loading ? <TableLoader colSpan={3}/> :\n            data?.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((user) => (\n              <UserItem key={user.id} user={user} />\n            ))}\n        </TableBody>\n      </Table>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 20]}\n        component=\"div\"\n        count={loading ? rowsPerPage : data?.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        backIconButtonProps={{\n          'aria-label': 'previous page',\n        }}\n        nextIconButtonProps={{\n          'aria-label': 'next page',\n        }}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </Paper>\n  </div>;\n};\n\nexport default UsersList;"]},"metadata":{},"sourceType":"module"}