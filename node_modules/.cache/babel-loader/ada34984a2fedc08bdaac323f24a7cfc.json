{"ast":null,"code":"var _jsxFileName = \"/Users/evgeniy/React/user-list/src/components/UsersTable.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { getUsers, editUser, saveChange, postUser, selectUser, deleteUser } from '../store/actions';\nimport './userList.css';\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TablePagination from '@material-ui/core/TablePagination';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst UsersTable = ({\n  getUsers,\n  users,\n  editUser,\n  editUs,\n  saveChange,\n  selectUser,\n  deleteUser,\n  selectUs\n}) => {\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [errorValid, setErrorValid] = useState(false);\n  const [disableBut, setDisableBut] = useState(false);\n  const [editModal, setEditModal] = useState(false);\n  const [modalSucc, setModalSucc] = useState(false);\n  const [delModal, setDelModal] = useState(false);\n  const [textModal, setTextModal] = useState('отредактирован');\n  const headRows = [{\n    id: 'id',\n    numeric: false,\n    label: 'id'\n  }, {\n    id: 'name',\n    numeric: true,\n    label: 'name'\n  }, {\n    id: 'surname',\n    numeric: true,\n    label: 'surname'\n  }, {\n    id: 'desc',\n    numeric: true,\n    label: 'desc'\n  }, {\n    id: 'edit',\n    numeric: true,\n    label: 'Редактировать'\n  }, {\n    id: 'delete',\n    numeric: true,\n    label: 'Удалить'\n  }];\n\n  const validate = () => {\n    if (editUs.name.length === 0 || editUs.surname.length === 0 || editUs.desc.length === 0) {\n      setErrorValid(true);\n      setTimeout(() => setErrorValid(false), 1000);\n    } else {\n      saveChange(editUs.id);\n      setErrorValid(false);\n      setTextModal('отредактирован');\n      setDisableBut(true);\n      setTimeout(() => {\n        getUsers();\n        setDisableBut(false);\n        setModalSucc(true);\n        setEditModal(false);\n      }, 500);\n      setTimeout(() => {\n        setModalSucc(false);\n      }, 1500);\n    }\n  };\n\n  const deleteU = () => {\n    deleteUser(selectUs.id);\n    setDelModal(false);\n    setTextModal('удален');\n    setTimeout(() => {\n      setModalSucc(true);\n      getUsers();\n    }, 400);\n    setTimeout(() => {\n      setModalSucc(false);\n    }, 1500);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: \"m020\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: \"tableHead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, headRows.map(row => /*#__PURE__*/React.createElement(TableCell, {\n    key: row.id,\n    align: row.numeric ? 'right' : 'left',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, row.label)))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, users.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((user, num) => /*#__PURE__*/React.createElement(TableRow, {\n    key: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, user.id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, user.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, user.surname), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, user.desc), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => {\n      editUser(user.id);\n      setEditModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 111\n    }\n  }))), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => {\n      selectUser(user.id);\n      setDelModal(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 111\n    }\n  }))))))), /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 15],\n    component: \"div\",\n    count: users.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    backIconButtonProps: {\n      'aria-label': 'previous page'\n    },\n    nextIconButtonProps: {\n      'aria-label': 'next page'\n    },\n    onChangePage: (event, pageNum) => setPage(pageNum),\n    onChangeRowsPerPage: event => {\n      setRowsPerPage(+event.target.value);\n      setPage(0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Dialog, {\n    open: editModal,\n    \"aria-labelledby\": \"form-add-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-add-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: \"inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\")), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, errorValid ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"errorMess\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, \"\\u0417\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435 \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044F *\") : null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: editUs.name,\n    error: errorValid,\n    label: \"name\",\n    name: \"name\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    margin: \"normal\",\n    onChange: e => editUser('none', e.target.value, e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: editUs.surname,\n    error: errorValid,\n    label: \"surname\",\n    name: \"surname\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    margin: \"normal\",\n    onChange: e => editUser('none', e.target.value, e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    value: editUs.desc,\n    error: errorValid,\n    label: \"desc\",\n    name: \"desc\",\n    variant: \"outlined\",\n    required: true,\n    placeholder: \"desc\",\n    multiline: true,\n    fullWidth: true,\n    rows: \"3\",\n    margin: \"normal\",\n    onChange: e => editUser('none', e.target.value, e.target.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => validate(),\n    disabled: disableBut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, \" \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => {\n      setEditModal(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))), /*#__PURE__*/React.createElement(Dialog, {\n    open: modalSucc,\n    \"aria-labelledby\": \"success-add-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"success-add-user\",\n    className: \"successAdd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \", textModal, \"!\"))), /*#__PURE__*/React.createElement(Dialog, {\n    open: delModal,\n    \"aria-labelledby\": \"success-add-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"success-add-user\",\n    className: \"errorMess\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F?\")), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"errorMess\",\n    onClick: () => deleteU(),\n    disabled: disableBut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, \" \\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => {\n      setDelModal(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"))));\n};\n\nconst mapStateToProps = state => ({\n  users: state.getUsers,\n  editUs: state.editUser,\n  selectUs: state.selectUser\n});\n\nconst mapDispatchToProps = {\n  getUsers,\n  editUser,\n  saveChange,\n  postUser,\n  selectUser,\n  deleteUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersTable);","map":{"version":3,"sources":["/Users/evgeniy/React/user-list/src/components/UsersTable.js"],"names":["React","useEffect","useState","connect","getUsers","editUser","saveChange","postUser","selectUser","deleteUser","Paper","Table","TableHead","TableBody","TableRow","TableCell","TablePagination","IconButton","EditIcon","DeleteIcon","Grid","Button","Dialog","DialogContent","DialogActions","DialogTitle","Typography","TextField","UsersTable","users","editUs","selectUs","page","setPage","rowsPerPage","setRowsPerPage","errorValid","setErrorValid","disableBut","setDisableBut","editModal","setEditModal","modalSucc","setModalSucc","delModal","setDelModal","textModal","setTextModal","headRows","id","numeric","label","validate","name","length","surname","desc","setTimeout","deleteU","map","row","slice","user","num","event","pageNum","target","value","e","mapStateToProps","state","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,UAA7B,EAAyCC,QAAzC,EAAmDC,UAAnD,EAA+DC,UAA/D,QAAiF,kBAAjF;AAEA,OAAO,gBAAP;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAExB,EAAAA,QAAF;AAAYyB,EAAAA,KAAZ;AAAmBxB,EAAAA,QAAnB;AAA6ByB,EAAAA,MAA7B;AAAqCxB,EAAAA,UAArC;AAAiDE,EAAAA,UAAjD;AAA6DC,EAAAA,UAA7D;AAAyEsB,EAAAA;AAAzE,CAAD,KAAyF;AAC1G9B,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,QAAQ;AACT,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,QAAM,CAAC4B,IAAD,EAAOC,OAAP,IAAkB/B,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACgC,WAAD,EAAcC,cAAd,IAAgCjC,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACkC,UAAD,EAAaC,aAAb,IAA8BnC,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACoC,UAAD,EAAaC,aAAb,IAA8BrC,QAAQ,CAAC,KAAD,CAA5C;AAEA,QAAM,CAACsC,SAAD,EAAYC,YAAZ,IAA4BvC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACwC,SAAD,EAAYC,YAAZ,IAA4BzC,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAAC0C,QAAD,EAAWC,WAAX,IAA0B3C,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM,CAAC4C,SAAD,EAAYC,YAAZ,IAA4B7C,QAAQ,CAAC,gBAAD,CAA1C;AAEA,QAAM8C,QAAQ,GAAG,CACf;AAAEC,IAAAA,EAAE,EAAE,IAAN;AAAYC,IAAAA,OAAO,EAAE,KAArB;AAA4BC,IAAAA,KAAK,EAAE;AAAnC,GADe,EAEf;AAAEF,IAAAA,EAAE,EAAE,MAAN;AAAcC,IAAAA,OAAO,EAAE,IAAvB;AAA6BC,IAAAA,KAAK,EAAE;AAApC,GAFe,EAGf;AAAEF,IAAAA,EAAE,EAAE,SAAN;AAAiBC,IAAAA,OAAO,EAAE,IAA1B;AAAgCC,IAAAA,KAAK,EAAE;AAAvC,GAHe,EAIf;AAAEF,IAAAA,EAAE,EAAE,MAAN;AAAcC,IAAAA,OAAO,EAAE,IAAvB;AAA6BC,IAAAA,KAAK,EAAE;AAApC,GAJe,EAKf;AAAEF,IAAAA,EAAE,EAAE,MAAN;AAAcC,IAAAA,OAAO,EAAE,IAAvB;AAA6BC,IAAAA,KAAK,EAAE;AAApC,GALe,EAMf;AAAEF,IAAAA,EAAE,EAAE,QAAN;AAAgBC,IAAAA,OAAO,EAAE,IAAzB;AAA+BC,IAAAA,KAAK,EAAE;AAAtC,GANe,CAAjB;;AASA,QAAMC,QAAQ,GAAG,MAAM;AAErB,QAAItB,MAAM,CAACuB,IAAP,CAAYC,MAAZ,KAAuB,CAAvB,IAA4BxB,MAAM,CAACyB,OAAP,CAAeD,MAAf,KAA0B,CAAtD,IAA2DxB,MAAM,CAAC0B,IAAP,CAAYF,MAAZ,KAAuB,CAAtF,EAAyF;AACvFjB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAoB,MAAAA,UAAU,CAAC,MAAMpB,aAAa,CAAC,KAAD,CAApB,EAA6B,IAA7B,CAAV;AACD,KAHD,MAGO;AACL/B,MAAAA,UAAU,CAACwB,MAAM,CAACmB,EAAR,CAAV;AACAZ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACAU,MAAAA,YAAY,CAAC,gBAAD,CAAZ;AACAR,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAkB,MAAAA,UAAU,CAAC,MAAM;AACfrD,QAAAA,QAAQ;AACRmC,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAI,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAF,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,OALS,EAKP,GALO,CAAV;AAMAgB,MAAAA,UAAU,CAAC,MAAM;AACfd,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,OAFS,EAEP,IAFO,CAAV;AAGD;AACF,GApBD;;AAsBA,QAAMe,OAAO,GAAG,MAAM;AACpBjD,IAAAA,UAAU,CAACsB,QAAQ,CAACkB,EAAV,CAAV;AACAJ,IAAAA,WAAW,CAAC,KAAD,CAAX;AACAE,IAAAA,YAAY,CAAC,QAAD,CAAZ;AACAU,IAAAA,UAAU,CAAC,MAAM;AACfd,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAvC,MAAAA,QAAQ;AACT,KAHS,EAGP,GAHO,CAAV;AAIAqD,IAAAA,UAAU,CAAC,MAAM;AACfd,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAXD;;AAaA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACL,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,SAAS,EAAC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,QAAQ,CAACW,GAAT,CAAaC,GAAG,iBACf,oBAAC,SAAD;AACE,IAAA,GAAG,EAAEA,GAAG,CAACX,EADX;AAEE,IAAA,KAAK,EAAEW,GAAG,CAACV,OAAJ,GAAc,OAAd,GAAwB,MAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGU,GAAG,CAACT,KAJP,CADD,CADH,CADF,CADF,eAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtB,KAAK,CAACgC,KAAN,CAAY7B,IAAI,GAAGE,WAAnB,EAAgCF,IAAI,GAAGE,WAAP,GAAqBA,WAArD,EAAkEyB,GAAlE,CAAsE,CAACG,IAAD,EAAOC,GAAP,kBACrE,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAED,IAAI,CAACb,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBa,IAAI,CAACb,EAA9B,CADF,eAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0Ba,IAAI,CAACT,IAA/B,CAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BS,IAAI,CAACP,OAA/B,CAHF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BO,IAAI,CAACN,IAA/B,CAJF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAyB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAM;AAAEnD,MAAAA,QAAQ,CAACyD,IAAI,CAACb,EAAN,CAAR;AAAmBR,MAAAA,YAAY,CAAC,IAAD,CAAZ;AAAqB,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvE,CAAzB,CALF,eAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAyB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAE,MAAM;AAAEjC,MAAAA,UAAU,CAACsD,IAAI,CAACb,EAAN,CAAV;AAAqBJ,MAAAA,WAAW,CAAC,IAAD,CAAX;AAAmB,KAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAuE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAvE,CAAzB,CANF,CADD,CADH,CAbF,CADF,eA2BE,oBAAC,eAAD;AACE,IAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,CADtB;AAEE,IAAA,SAAS,EAAC,KAFZ;AAGE,IAAA,KAAK,EAAEhB,KAAK,CAACyB,MAHf;AAIE,IAAA,WAAW,EAAEpB,WAJf;AAKE,IAAA,IAAI,EAAEF,IALR;AAME,IAAA,mBAAmB,EAAE;AACnB,oBAAc;AADK,KANvB;AASE,IAAA,mBAAmB,EAAE;AACnB,oBAAc;AADK,KATvB;AAYE,IAAA,YAAY,EAAE,CAACgC,KAAD,EAAQC,OAAR,KAAoBhC,OAAO,CAACgC,OAAD,CAZ3C;AAaE,IAAA,mBAAmB,EAAGD,KAAD,IAAW;AAAE7B,MAAAA,cAAc,CAAC,CAAC6B,KAAK,CAACE,MAAN,CAAaC,KAAf,CAAd;AAAqClC,MAAAA,OAAO,CAAC,CAAD,CAAP;AAAY,KAbrF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3BF,CADK,eA6CL,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEO,SADR;AAEE,uBAAgB,eAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+JADF,CAHF,eAME,oBAAC,aAAD;AAAe,IAAA,QAAQ,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,UAAU,gBACT;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kKADS,GAGT,IAJJ,eAME,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEN,MAAM,CAACuB,IADhB;AAEE,IAAA,KAAK,EAAEjB,UAFT;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,OAAO,EAAC,UALV;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,SAAS,EAAE,IAPb;AAQE,IAAA,MAAM,EAAC,QART;AASE,IAAA,QAAQ,EAAEgC,CAAC,IAAI/D,QAAQ,CAAC,MAAD,EAAS+D,CAAC,CAACF,MAAF,CAASC,KAAlB,EAAyBC,CAAC,CAACF,MAAF,CAASb,IAAlC,CATzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAcE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEvB,MAAM,CAACyB,OADhB;AAEE,IAAA,KAAK,EAAEnB,UAFT;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,IAAI,EAAC,SAJP;AAKE,IAAA,OAAO,EAAC,UALV;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,SAAS,EAAE,IAPb;AAQE,IAAA,MAAM,EAAC,QART;AASE,IAAA,QAAQ,EAAEgC,CAAC,IAAI/D,QAAQ,CAAC,MAAD,EAAS+D,CAAC,CAACF,MAAF,CAASC,KAAlB,EAAyBC,CAAC,CAACF,MAAF,CAASb,IAAlC,CATzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAdF,eA2BE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAEvB,MAAM,CAAC0B,IADhB;AAEE,IAAA,KAAK,EAAEpB,UAFT;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,OAAO,EAAC,UALV;AAME,IAAA,QAAQ,MANV;AAOE,IAAA,WAAW,EAAC,MAPd;AAQE,IAAA,SAAS,MARX;AASE,IAAA,SAAS,MATX;AAUE,IAAA,IAAI,EAAC,GAVP;AAWE,IAAA,MAAM,EAAC,QAXT;AAYE,IAAA,QAAQ,EAAEgC,CAAC,IAAI/D,QAAQ,CAAC,MAAD,EAAS+D,CAAC,CAACF,MAAF,CAASC,KAAlB,EAAyBC,CAAC,CAACF,MAAF,CAASb,IAAlC,CAZzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA3BF,CANF,CANF,eAyDE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAE,MAAMD,QAAQ,EAA/C;AAAmD,IAAA,QAAQ,EAAEd,UAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAE,MAAM;AAAEG,MAAAA,YAAY,CAAC,KAAD,CAAZ;AAAsB,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFF,CAzDF,CA7CK,eA8GL,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEC,SADR;AAEE,uBAAgB,kBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,kBAAhB;AAAmC,IAAA,SAAS,EAAC,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kFAA2BI,SAA3B,MADA,CAHF,CA9GK,eAsHL,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEF,QADR;AAEE,uBAAgB,kBAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,kBAAhB;AAAmC,IAAA,SAAS,EAAC,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6PADF,CAHF,eAME,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAA8B,IAAA,OAAO,EAAE,MAAMc,OAAO,EAApD;AAAwD,IAAA,QAAQ,EAAEpB,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAE,MAAM;AAAEO,MAAAA,WAAW,CAAC,KAAD,CAAX;AAAqB,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAFF,CANF,CAtHK,CAAP;AAqID,CAjMD;;AAoMA,MAAMwB,eAAe,GAAGC,KAAK,KAAK;AAChCzC,EAAAA,KAAK,EAAEyC,KAAK,CAAClE,QADmB;AAEhC0B,EAAAA,MAAM,EAAEwC,KAAK,CAACjE,QAFkB;AAGhC0B,EAAAA,QAAQ,EAAEuC,KAAK,CAAC9D;AAHgB,CAAL,CAA7B;;AAMA,MAAM+D,kBAAkB,GAAG;AAAEnE,EAAAA,QAAF;AAAYC,EAAAA,QAAZ;AAAsBC,EAAAA,UAAtB;AAAkCC,EAAAA,QAAlC;AAA4CC,EAAAA,UAA5C;AAAwDC,EAAAA;AAAxD,CAA3B;AAEA,eAAeN,OAAO,CAACkE,eAAD,EAAkBE,kBAAlB,CAAP,CAA6C3C,UAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { connect } from 'react-redux';\nimport { getUsers, editUser, saveChange, postUser, selectUser, deleteUser } from '../store/actions';\n\nimport './userList.css';\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TablePagination from '@material-ui/core/TablePagination';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst UsersTable = ({ getUsers, users, editUser, editUs, saveChange, selectUser, deleteUser, selectUs }) => {\n  useEffect(() => {\n    getUsers();\n  }, [getUsers]);\n\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(5);\n  const [errorValid, setErrorValid] = useState(false);\n  const [disableBut, setDisableBut] = useState(false);\n\n  const [editModal, setEditModal] = useState(false);\n  const [modalSucc, setModalSucc] = useState(false);\n  const [delModal, setDelModal] = useState(false);\n\n  const [textModal, setTextModal] = useState('отредактирован');\n\n  const headRows = [\n    { id: 'id', numeric: false, label: 'id' },\n    { id: 'name', numeric: true, label: 'name' },\n    { id: 'surname', numeric: true, label: 'surname' },\n    { id: 'desc', numeric: true, label: 'desc' },\n    { id: 'edit', numeric: true, label: 'Редактировать' },\n    { id: 'delete', numeric: true, label: 'Удалить' },\n  ];\n\n  const validate = () => {\n\n    if (editUs.name.length === 0 || editUs.surname.length === 0 || editUs.desc.length === 0) {\n      setErrorValid(true);\n      setTimeout(() => setErrorValid(false), 1000);\n    } else {\n      saveChange(editUs.id);\n      setErrorValid(false);\n      setTextModal('отредактирован');\n      setDisableBut(true);\n      setTimeout(() => {\n        getUsers();\n        setDisableBut(false);\n        setModalSucc(true);\n        setEditModal(false);\n      }, 500);\n      setTimeout(() => {\n        setModalSucc(false);\n      }, 1500);\n    }\n  }\n\n  const deleteU = () => {\n    deleteUser(selectUs.id);\n    setDelModal(false); \n    setTextModal('удален');\n    setTimeout(() => {\n      setModalSucc(true);\n      getUsers();\n    }, 400);\n    setTimeout(() => {\n      setModalSucc(false);\n    }, 1500);\n  }\n\n  return <div>\n    <Paper className='m020'>\n      <Table>\n        <TableHead >\n          <TableRow className='tableHead'>\n            {headRows.map(row => (\n              <TableCell\n                key={row.id}\n                align={row.numeric ? 'right' : 'left'}\n              >\n                {row.label}\n              </TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {users.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((user, num) => (\n            <TableRow key={user.id}>\n              <TableCell align=\"left\">{user.id}</TableCell>\n              <TableCell align=\"right\">{user.name}</TableCell>\n              <TableCell align=\"right\">{user.surname}</TableCell>\n              <TableCell align=\"right\">{user.desc}</TableCell>\n              <TableCell align=\"right\"><IconButton onClick={() => { editUser(user.id); setEditModal(true); }}><EditIcon /></IconButton></TableCell>\n              <TableCell align=\"right\"><IconButton onClick={() => { selectUser(user.id); setDelModal(true) }}><DeleteIcon /></IconButton></TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n      <TablePagination\n        rowsPerPageOptions={[5, 10, 15]}\n        component=\"div\"\n        count={users.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        backIconButtonProps={{\n          'aria-label': 'previous page',\n        }}\n        nextIconButtonProps={{\n          'aria-label': 'next page',\n        }}\n        onChangePage={(event, pageNum) => setPage(pageNum)}\n        onChangeRowsPerPage={(event) => { setRowsPerPage(+event.target.value); setPage(0) }}\n      />\n    </Paper>\n\n    <Dialog\n      open={editModal}\n      aria-labelledby=\"form-add-user\">\n      <DialogTitle id=\"form-add-user\">\n        <Typography className=\"inline\">Редактировать пользователя</Typography>\n      </DialogTitle>\n      <DialogContent dividers>\n        {errorValid ?\n          <div className='errorMess'>\n            Заполните обязательные поля *</div> :\n          null\n        }\n        <Grid container>\n          <Grid item xs={12}>\n            <TextField\n              value={editUs.name}\n              error={errorValid}\n              label=\"name\"\n              name=\"name\"\n              variant=\"outlined\"\n              required\n              fullWidth={true}\n              margin=\"normal\"\n              onChange={e => editUser('none', e.target.value, e.target.name)}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              value={editUs.surname}\n              error={errorValid}\n              label=\"surname\"\n              name=\"surname\"\n              variant=\"outlined\"\n              required\n              fullWidth={true}\n              margin=\"normal\"\n              onChange={e => editUser('none', e.target.value, e.target.name)}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              value={editUs.desc}\n              error={errorValid}\n              label=\"desc\"\n              name=\"desc\"\n              variant=\"outlined\"\n              required\n              placeholder=\"desc\"\n              multiline\n              fullWidth\n              rows=\"3\"\n              margin=\"normal\"\n              onChange={e => editUser('none', e.target.value, e.target.name)}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={() => validate()} disabled={disableBut}> Сохранить </Button>\n        <Button color=\"primary\" onClick={() => { setEditModal(false); }}>\n          Отмена\n          </Button>\n      </DialogActions>\n    </Dialog>\n\n    <Dialog\n      open={modalSucc}\n      aria-labelledby=\"success-add-user\">\n      <DialogTitle id=\"success-add-user\" className=\"successAdd\">\n      <Typography >Пользователь {textModal}!</Typography>\n      </DialogTitle>\n    </Dialog>\n\n    <Dialog\n      open={delModal}\n      aria-labelledby=\"success-add-user\">\n      <DialogTitle id=\"success-add-user\" className=\"errorMess\">\n        <Typography >Вы действительно хотите удалить пользователя?</Typography>\n      </DialogTitle>\n      <DialogActions>\n        <Button className=\"errorMess\" onClick={() => deleteU()} disabled={disableBut}> Удалить </Button>\n        <Button color=\"primary\" onClick={() => { setDelModal(false); }}>\n          Отмена\n          </Button>\n      </DialogActions>\n    </Dialog>\n\n  </div>;\n};\n\n\nconst mapStateToProps = state => ({\n  users: state.getUsers,\n  editUs: state.editUser,\n  selectUs: state.selectUser\n});\n\nconst mapDispatchToProps = { getUsers, editUser, saveChange, postUser, selectUser, deleteUser };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersTable);"]},"metadata":{},"sourceType":"module"}